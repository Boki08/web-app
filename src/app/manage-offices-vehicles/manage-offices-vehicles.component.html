<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" (click)="getServiceOffices()">
    <a class="nav-link active" id="offices-tab" data-toggle="tab" href="#offices" role="tab" aria-controls="offices" aria-selected="true">Offices</a>
  </li>
  <li class="nav-item" (click)="getServiceVehicles()">
    <a class="nav-link" id="vehicles-tab" data-toggle="tab" href="#vehicles" role="tab" aria-controls="vehicles" aria-selected="false">Vehicles</a>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="offices" role="tabpanel" aria-labelledby="offices-tab">

    <table class="table  table-hover mt-2">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Address</th>
        </tr>

      </thead>
      <tbody>
        <tr *ngFor="let office of offices ; let i = index" (click)="officeDetails(office,i)" data-toggle="modal" data-target="#officeModal">
          <th scope="row">{{i+1}}</th>
          <td>{{office.OfficeId}}</td>
          <td>{{office.Address}}</td>
        </tr>


      </tbody>
    </table>
    <app-pager [page]="pageIndexO" [totalPages]="totalPagesNumberO" (changePage)="pageO=$event"></app-pager>
  </div>
  <div class="tab-pane fade" id="vehicles" role="tabpanel" aria-labelledby="vehicles-tab">

    <table class="table  table-hover mt-2">
      <thead>
        <tr>
          <th scope="col">Num</th>
          <th scope="col">Model</th>
          <th scope="col">Year of Manifacturing</th>
          <th scope="col">Manufacturer</th>
          <th scope="col">Available</th>
        </tr>

      </thead>
      <tbody>
        <tr *ngFor="let vehicle of vehicles ; let i = index" (click)="vehicleDetails(vehicle,i)" data-toggle="modal" data-target="#vehicleModal">
          <th scope="row">{{i+1}}</th>
          <td>{{vehicle.Model}}</td>
          <td>{{vehicle.YearOfManufacturing}}</td>
          <td>{{vehicle.Manufacturer}}</td>
          <td>
            <p [ngStyle]="{'color': (vehicle!=null && vehicle.Available==true)? 'green' : 'red'}">{{(vehicle!=null && vehicle.Available==true)?'Yes'
              : 'No' }}</p>
          </td>
      </tbody>
    </table>
    <app-pager [page]="pageIndexV" [totalPages]="totalPagesNumberV" (changePage)="pageV=$event"></app-pager>
  </div>
</div>


<!-- Vehicle Modal -->
<div class="modal fade" id="vehicleModal" tabindex="-1" role="dialog" aria-labelledby="VehicleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="VehicleModalLabel">{{null != vehicle ? vehicle.Model: 'no data' }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row justify-content-center">

            <div class="col">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Vehicle Data</th>
                    <th scope="col"></th>
                  </tr>

                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Manufacturer:</th>
                    <td>{{null != vehicle ? vehicle.Manufacturer: 'no data' }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Year of Manufacturing:</th>
                    <td>{{null != vehicle ? vehicle.YearOfManufacturing: 'no data' }}</td>
                  </tr>
                  <tr>
                    <th scope="row">Available:</th>
                    <td>
                      <p [ngStyle]="{'color': (vehicle!=null && vehicle.Available==true)? 'green' : 'red'}">{{(vehicle!=null
                        && vehicle.Available==true)?'Yes' : 'No' }}</p>
                    </td>



                  </tr>
                  <tr>
                    <th scope="row">Enabled:</th>
                    <td>
                      <p [ngStyle]="{'color': (vehicle!=null && vehicle.Enabled==true)? 'green' : 'red'}">{{(vehicle!=null
                        && vehicle.Enabled==true)?'Yes' : 'No' }}</p>
                      <label class="switch">
                        <input type="checkbox" [disabled]="vehicle!=null && vehicle.Available==false" (change)="setCheckBoxVehicle($event,vehicle.VehicleId)"
                          [checked]="(vehicle!=null && vehicle.Enabled==true)">
                        <span class="slider round"></span>
                      </label>
                    </td>



                  </tr>
                  <tr>
                    <th scope="row">Description:</th>
                    <td>{{null != vehicle ? vehicle.Description: 'no data' }}</td>
                  </tr>
                  <!-- <tr>
                        <th scope="row">Profile Edited:</th>
                        <td>
                          <p [ngStyle]="{'color': (userData!=null && true == userData.ProfileEdited) ? 'green' : 'red'}">{{(userData!=null
                            && true == userData.ProfileEdited) ? 'Yes': 'No'}}</p>
                        </td>
                      </tr> -->
                  <!--  <tr>
                        <th scope="row">Activated:</th>
                        <td>
                          <p [ngStyle]="{'color': (userData!=null && true == userData.Activated) ? 'green' : 'red'}">{{(userData!=null
                            && true == userData.Activated) ? 'Yes': 'No'}}</p>
                        </td>
                      </tr> -->
                </tbody>
              </table>
            </div>



            <div class="col">
              <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                  <li data-target="#carouselExampleIndicators" *ngFor="let picture of vehilePictures; let i = index" data-slide-to="i" [class.active]="isFirst"></li>

                  <!--       <li data-target="#carouselExampleIndicators"  data-slide-to="i+1"></li> -->

                  <!--    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li> -->
                </ol>
                <div class="carousel-inner">
                  <!-- <div class="carousel-item active" >   
                    <img class="d-block w-100" src='http://localhost:51680/api/vehicle/getVehiclePicture/?path={{tempPic!=null ? tempPic:"" }}'  alt="">
                  </div>  -->
                  <div class="carousel-item" data-slide-to="i+1" *ngFor="let picture of vehilePictures; let isFirst = first" [class.active]="isFirst">
                    <img class="d-block w-100" src='http://localhost:51680/api/vehicle/getVehiclePicture/?path={{picture.Data }}' alt="">
                  </div>
                  <!--  <div class="carousel-item">
                    <img class="d-block w-100" src="..." >
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="..." >
                  </div> -->
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            </div>

            <!-- <div class="col">
                  <div class="container">
                    <div class="row justify-content-center">
                      <span class="border border-primary">
                        <div class="col">

                          <div class="thumbnail">
                            <img class="group list-group-image" src='http://localhost:51680/api/appUser/getDocumentPicture?path={{userData!=null ? userData.DocumentPicture:"" }}'
                              alt="" />
                            <div class="caption">

                            </div>
                          </div>

                        </div>
                      </span>
                    </div>
                    <div class="row justify-content-center mt-4">

                      <div class="col col-md-3" style="display: flex;flex-flow: row wrap;justify-content: center;">
                        <button class="btn btn-danger" (click)="acceptUser(counter,userData.UserId,false)" [disabled]="(userData==null || userData.DocumentPicture==null|| userData.ProfileEdited==false || userData.Activated==true  || disableButtons==true)">
                          <span class="glyphicon glyphicon-remove"></span> Decline
                        </button>
                      </div>
                      <div class="col col-md-3" style="display: flex;flex-flow: row wrap;justify-content: center;">
                        <button class="btn btn-success" (click)="acceptUser(counter,userData.UserId,true)" [disabled]="(userData==null || userData.DocumentPicture==null || userData.ProfileEdited==false || userData.Activated==true || disableButtons==true)">
                          <span class="glyphicon glyphicon-ok"></span> Accept
                        </button>
                      </div>
                    </div>

                  </div>
                </div> -->
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>




<!-- Office Modal -->
<div class="modal fade" id="officeModal" tabindex="-1" role="dialog" aria-labelledby="OfficeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="OfficeModalLabel">{{null != office ? office.OfficeId: 'no data' }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row justify-content-center">

            <div class="col">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Office Data</th>
                    <th scope="col"></th>
                  </tr>

                </thead>
                <tbody>
                  <tr>
                    <th scope="row">Address:</th>
                    <td>{{null != office ? office.Address: 'no data' }}</td>
                  </tr>
                  <!--  <tr>
                      <th scope="row">Year of Manufacturing:</th>
                      <td>{{null != vehicle ? vehicle.YearOfManufacturing: 'no data' }}</td>
                    </tr>
                    <tr>
                      <th scope="row">Available:</th>
                      <td>
                        <p [ngStyle]="{'color': (vehicle!=null && vehicle.Available==true)? 'green' : 'red'}">{{(vehicle!=null
                          && vehicle.Available==true)?'Yes' : 'No' }}</p>
                      </td>
                    </tr> -->
                  <!-- <tr>
                      <th scope="row">Enabled:</th>
                      <td>
                        <p [ngStyle]="{'color': (vehicle!=null && vehicle.Enabled==true)? 'green' : 'red'}">{{(vehicle!=null
                          && vehicle.Enabled==true)?'Yes' : 'No' }}</p>
                        <label class="switch">
                          <input type="checkbox" [disabled]="vehicle!=null && vehicle.Available==false" (change)="setCheckBoxVehicle($event,vehicle.VehicleId)"
                            [checked]="(vehicle!=null && vehicle.Enabled==true)">
                          <span class="slider round"></span>
                        </label>
                      </td>
                    </tr> -->
                  <!--  <tr>
                      <th scope="row">Description:</th>
                      <td>{{null != vehicle ? vehicle.Description: 'no data' }}</td>
                    </tr> -->
                  <!-- <tr>
                          <th scope="row">Profile Edited:</th>
                          <td>
                            <p [ngStyle]="{'color': (userData!=null && true == userData.ProfileEdited) ? 'green' : 'red'}">{{(userData!=null
                              && true == userData.ProfileEdited) ? 'Yes': 'No'}}</p>
                          </td>
                        </tr> -->
                  <!--  <tr>
                          <th scope="row">Activated:</th>
                          <td>
                            <p [ngStyle]="{'color': (userData!=null && true == userData.Activated) ? 'green' : 'red'}">{{(userData!=null
                              && true == userData.Activated) ? 'Yes': 'No'}}</p>
                          </td>
                        </tr> -->
                </tbody>
              </table>
            </div>



            <!--  <div class="col">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                  <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" *ngFor="let picture of vehilePictures; let i = index" data-slide-to="i" [class.active]="isFirst"></li>
  
                   
                  </ol>
                  <div class="carousel-inner">
                   
                    <div class="carousel-item" data-slide-to="i+1" *ngFor="let picture of vehilePictures; let isFirst = first" [class.active]="isFirst">
                      <img class="d-block w-100" src='http://localhost:51680/api/vehicle/getVehiclePicture/?path={{picture.Data }}' alt="">
                    </div>
                   
                  
                  </div>
                  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                  </a>
                  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                  </a>
                </div>
              </div> -->

            <div class="col">
              <div class="container">
                <div class="row justify-content-center">
                  <span class="border border-primary">
                    <div class="col">

                      <div class="thumbnail">
                        <img class="group list-group-image" src='http://localhost:51680/api/office/getOfficePicture?path={{office!=null ? office.Picture:"" }}'
                          alt="" />
                        <div class="caption">

                        </div>
                      </div>

                    </div>
                  </span>
                </div>

                <!--  <div class="row justify-content-center mt-4">

                  <div class="col col-md-3" style="display: flex;flex-flow: row wrap;justify-content: center;">
                    <button class="btn btn-danger" (click)="acceptUser(counter,userData.UserId,false)" [disabled]="(userData==null || userData.DocumentPicture==null|| userData.ProfileEdited==false || userData.Activated==true  || disableButtons==true)">
                      <span class="glyphicon glyphicon-remove"></span> Decline
                    </button>
                  </div>
                  <div class="col col-md-3" style="display: flex;flex-flow: row wrap;justify-content: center;">
                    <button class="btn btn-success" (click)="acceptUser(counter,userData.UserId,true)" [disabled]="(userData==null || userData.DocumentPicture==null || userData.ProfileEdited==false || userData.Activated==true || disableButtons==true)">
                      <span class="glyphicon glyphicon-ok"></span> Accept
                    </button>
                  </div>
                </div> -->

              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
                <p>
                    <!-- Kreiramo mapu -->
                    <agm-map [latitude]="mapInfo.centerLat" [longitude]="mapInfo.centerLong" [zoom]="18" (mapClick)="placeMarker($event)">
                     
                      <!-- Postavljamo markere -->
                      <agm-marker [latitude]="mapInfo.centerLat" [longitude]="mapInfo.centerLong" [title]="mapInfo.title"
                      [label]="mapInfo.label">
                  
                        <!-- Svakom markeru dodajemo info-window (Nije obavezno!)-->
                        <agm-info-window [latitude]="mapInfo.centerLat" [longitude]="mapInfo.centerLong" >
                  
                          <!-- U info-window stavljamo html -->
                          <span style="font-size: 16px;font-family:'Times New Roman'">Fakultet tehničkih nauka</span>
                          <br/>
                          <span style="font-family:'Times New Roman'; color:gray;"><strong>Jugodrvo</strong></span>
                          <span style="font-family:'Times New Roman'; color:gray;">Bulevar oslobođenja 131</span>
                          <a [href]="mapInfo.link">See the site.</a>
                        </agm-info-window>
                  
                      </agm-marker>
                    </agm-map>
                  </p>
                  
            </div>
          </div>

        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>